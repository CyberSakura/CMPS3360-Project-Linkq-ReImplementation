# LinkQ-Reimplementation

This project is a re-implementation of the research project presented in ["LinkQ: Answering Natural Language Questions over Knowledge Graphs with Query Templates"](https://ieeexplore.ieee.org/document/10771088). This project aims to provide an intuitive interface for querying knowledge graphs using natural language, with a focus on Wikidata as the primary knowledge source.

## Overview

LinkQ-Reimplementation is a web-based application that translates natural language questions into SPARQL queries for knowledge graph exploration. The project is built with React.js for the frontend and Python Flask for the backend. It features:

- Natural language to SPARQL query conversion
- Interactive query editor with syntax highlighting
- Real-time query execution against Wikidata
- Query history management
- Entity tooltips with detailed information
- Structured result display in table format

## Getting Started

### Prerequisites

- Python 3.8 or higher
- Node.js 14.x or higher
- npm or yarn package manager

### Backend Setup

1. Navigate to the project root directory:
```bash
cd main_scripts
```

2. Create and activate a virtual environment (optional but recommended):
```bash
python -m venv venv
source venv/bin/activate  # On Windows use: venv\Scripts\activate
```

3. Install Python dependencies:
```bash
pip install -r requirements.txt
```

### Frontend Setup

1. Navigate to the frontend directory:
```bash
cd frontend/linkq-frontend
```

2. Install Node.js dependencies:
```bash
npm install
```

### Running the Application

**Note: You will need two separate terminal windows/tabs to run both the frontend and backend servers simultaneously.**

1. In the first terminal, start the backend server:
```bash
# From the main_scripts directory
python app.py
```

2. In the second terminal, start the frontend development server:
```bash
# From the frontend/linkq-frontend directory
npm start
```

The application will be available at `http://localhost:3000`

**Important**: Make sure both the backend server (running on port 5000) and the frontend server (running on port 3000) are running simultaneously for the application to work properly.

## Project Structure

```text
linkq-reimplementation/
├── app.py                   # Flask entry-point (serves API + production React build)
├── config.py                # Centralised application / env configuration
├── requirements.txt         # Python dependencies
├── chat_history.db          # SQLite chat log (auto-generated)
│
├── frontend/                # Front-end workspace
│   └── linkq-frontend/
│       ├── public/          # HTML template + static assets (favicon, manifest…)
│       ├── src/
│       │   ├── components/  # React components (QueryEditorUI, ResultsPanel…)
│       │   ├── hooks/       # Custom React hooks (e.g. Wikidata fetcher)
│       │   ├── utils/       # Front-end helpers / config
│       │   └── App.js       # Main React component
│       ├── tailwind.config.js
│       ├── postcss.config.js
│       ├── package.json     # Front-end dependencies / scripts
│       └── build/           # Production build output (generated by `npm run build`)
│
├── main_scripts/            # Python domain logic
│   ├── components/          # Chat, SPARQL runner, graph builder
│   ├── utils/               # Helper modules (rate-limit, parsing…)
│   ├── fuzzy_entity_search.py
│   └── extract_properties.py
│
└── README.md                # You are here
```

### Default Ports

| Service      | Mode              | Port |
|--------------|-------------------|------|
| Flask API    | Development       | 5001 |
| React (Vite/Cra) dev-server | `npm start`           | 3000 / 5002* |
| Flask (production) serves `/frontend/linkq-frontend/build` | 5001 |

*CRA picks the first free port (3000, 3001 …). We added CORS rules for 3000 and 5002.

_If you change ports, update them in `config.py`, `app.py` CORS list, and `frontend/src/config.js`._

## Acknowledgments

- Original research paper: ["LinkQ: Answering Natural Language Questions over Knowledge Graphs with Query Templates"](https://ieeexplore.ieee.org/document/10771088)
- Wikidata for providing the knowledge graph infrastructure 